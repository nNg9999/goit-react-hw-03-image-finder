{"version":3,"sources":["components/Layout/Layout.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/index.js","components/Loader/Loader.jsx","components/Notification/Notification.jsx","services/apiService.js","components/App.jsx","index.js"],"names":["Layout","children","className","Searchbar","state","inputValue","handleChange","target","setState","value","handleSubmit","e","preventDefault","props","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","onSetLargeImage","src","alt","width","height","onClick","defaulProps","defaultProps","ImageGallery","hits","map","id","key","Button","Modal","handelClick","currentTarget","handleKeyDown","code","window","addEventListener","removeEventListener","largeImageUrl","Loader","color","Notification","message","searchQuery","page","requestParams","axios","get","then","response","data","totalHits","App","loading","error","showModal","fetchArticles","apiService","toast","success","prevState","catch","finally","handleSearchFormSubmit","query","setTimeout","toggleModal","setLargeImage","url","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.59db8c48.chunk.js","sourcesContent":["import React from 'react';\nimport './Layout.css';\n\nconst Layout = ({\n  children\n}) => < div className = \"Layout\" > {\n  children\n} < /div>;\n\nexport default Layout;","import React, { Component } from 'react';\nimport { func } from 'prop-types';\n\nexport default class Searchbar extends Component {\n\n  static propTypes = {\n    onSubmit: func.isRequired,\n  };\n  static defaulProps = {};\n\n  state = { inputValue: '' };\n\n  handleChange = ({ target }) => {\n    this.setState({ inputValue: target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus={true}\n            placeholder=\"Search images and photos\"\n\n            value={this.state.inputValue}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    )\n  }\n};\n","import React from 'react';\nimport { string, func } from 'prop-types';\n\nfunction ImageGalleryItem({ webformatURL, largeImageURL, onSetLargeImage }) {\n\n  return (\n    <li className=\"ImageGalleryItem\" >\n      <img src={webformatURL} alt=\"img\"\n        className=\"ImageGalleryItem-image\" width=\"640\" height=\"429\"\n        onClick={() => { return onSetLargeImage(largeImageURL) }} />\n    </li>\n\n  )\n};\n\nImageGalleryItem.defaultProps = {};\n\nImageGalleryItem.propTypes = {\n  webformatURL: string.isRequired,\n  largeImageURL: string.isRequired,\n  onSetLargeImage: func.isRequired\n};\n\n\nexport default ImageGalleryItem;\n\n","import React from 'react';\nimport { func, arrayOf, object } from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nfunction ImageGallery({ hits, onSetLargeImage }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {hits.map(({ id, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem key={id} webformatURL={webformatURL} largeImageURL={largeImageURL} onSetLargeImage={onSetLargeImage} />\n      ))}\n    </ul>\n  )\n};\n\n\nImageGallery.defaultProps = {};\n\nImageGallery.propTypes = {\n  hits: arrayOf(object),\n  onSetLargeImage: func.isRequired\n};\n\nexport default ImageGallery;\n\n","import React from 'react';\n\nimport { func } from 'prop-types';\n\n\nexport default function Button({ onClick }) {\n\n  return (\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  )\n};\n\nButton.propTypes = {\n  onClick: func.isRequired,\n}\n\n","import React, { Component } from 'react';\nimport { func, string } from 'prop-types';\n\nexport default class Modal extends Component {\n\n  static propTypes = {\n    largeImageUrl: string.isRequired,\n    onClick: func.isRequired\n  };\n  static defaulProps = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handelClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClick();\n    }\n  }\n\n  handleKeyDown = e => {\n\n    if (e.code === 'Escape') {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    const { largeImageUrl, onClick } = this.props;\n\n    return (\n      <div className=\"Overlay\" onClick={this.handelClick}>\n        <div className=\"Modal\">\n          <img src={largeImageUrl} alt=\"\" width=\"1280\" height=\"853\" />\n        </div>\n        <button type=\"button\" className=\"Modal-btn\" onClick={onClick} >\n        </button>\n      </div>\n    );\n  }\n}\n","import Loader from './Loader';\nexport default Loader;","import React from 'react';\nimport Spinner from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\n\nexport default function Loader() {\n  return (\n    <div className=\"Spinner\">\n      <Spinner\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100} />\n    </div>\n  );\n}\n\n\n\n\n\n","import React from 'react';\n\nexport default function Notification(message) {\n  return <div>{message}</div>;\n}\n","import axios from 'axios';\n\nconst fetchArticlesWithQuery = (searchQuery, page) => {\n\n  const baseUrl = 'https://pixabay.com/api/';\n  const key = '16133219-b7191e329ab916084dd10c777';\n  const requestParams = `?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return axios\n    .get(baseUrl + requestParams)\n    .then(response => ({\n      hits: response.data.hits,\n      totalHits: response.data.totalHits,\n    }))\n};\n\nexport default {\n  fetchArticlesWithQuery,\n};","// core\nimport React, { Component } from 'react';\n// nodemoduls\n\n// components\nimport Layout from './Layout';\nimport Searchbar from './Searchbar';\nimport ImageGallery from './ImageGallery';\nimport Button from './Button';\n\nimport Modal from './Modal';\nimport Spinner from './Loader';\nimport Notification from './Notification';\n\n//utils\nimport apiService from '../services/apiService';\nimport { ToastContainer, toast } from 'react-toastify';\n\n//styles\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n\n  state = {\n    hits: [],\n    totalHits: 0,\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 1,\n    largeImageUrl: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    // const prevQuery = prevState.searchQuery;\n    // const nextQuery = this.state.searchQuery;\n\n    // if (prevQuery !== nextQuery) {\n    //   this.fetchArticles();\n    // }\n\n    // this.fetchArticles();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    })\n  }\n\n  fetchArticles = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ loading: true });\n\n\n    apiService\n      .fetchArticlesWithQuery(searchQuery, page)\n      .then(data => {\n        toast.success('images loading');\n        return data\n      })\n      .then(data =>\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...data.hits],\n          page: prevState.page + 1,\n          largeImageUrl: data.hits.map(({ largeImageURL }) => ({ largeImageURL }))\n        })))\n      .catch(error => {\n        this.setState({ error: error.message });\n        toast.error(error.message);\n      })\n      .finally(() => this.setState({ loading: false }))\n  };\n\n  handleSearchFormSubmit = query => {\n\n    if (!query) {\n      return\n    }\n\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      hits: [],\n    });\n\n    setTimeout(() => {\n      this.fetchArticles(query)\n    }, 10);\n  };\n\n\n  toggleModal = () => {\n    this.setState((prevState) => ({\n      showModal: !prevState.showModal\n    }))\n  }\n\n  handelClick = () => {\n    this.setState({ showModal: true });\n  }\n\n  setLargeImage = (url) => {\n    this.setState({ largeImageUrl: url, showModal: true })\n  }\n\n\n  render() {\n    const { hits, loading, error, showModal } = this.state;\n    const { largeImageUrl, totalHits, page } = this.state;\n\n    return (\n      <Layout >\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\n        {hits.length > 0 && <ImageGallery hits={hits} onClick={this.handelClick} onSetLargeImage={this.setLargeImage} />}\n        {loading && <Spinner />}\n        {error && (\n          <Notification\n            message={`Whoops, something went wrong: ${error.message}`}\n          />\n        )}\n\n        {hits.length > 0 && !loading && page !== totalHits && (\n          <Button onClick={this.fetchArticles} />\n        )}\n        {showModal && <Modal largeImageUrl={largeImageUrl} onClick={this.toggleModal} />}\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={2000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </Layout>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n// import './sass/base.scss';\nimport './styles/styles.css';\n\nimport App from './components/App';\n\nReactDOM.render( < App / > , document.getElementById('root'));"],"sourceRoot":""}